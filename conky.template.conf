conky.config = {
  background = true,
  update_interval = 1,
  double_buffer = true,
  no_buffers = true,
  cpu_avg_samples = 2,
  net_avg_samples = 2,
  own_window = true,
  own_window_type = 'desktop',
  own_window_transparent = true,
  own_window_argb_visual = true,
  own_window_argb_value = 160,
  draw_shades = false,
  draw_outline = false,
  draw_borders = true,
  draw_graph_borders = true,
  use_xft = true,
  font = 'Roboto Mono:size=9',
  xftalpha = 0.9,
  alignment = '@@ALIGNMENT@@',
  gap_x = @@GAP_X@@,
  gap_y = @@GAP_Y@@,
  xinerama_head = @@MONITOR@@,
  minimum_width = 320,
  maximum_width = 320,
  minimum_height = 600,
  default_color = 'white',
  color1 = '#00c0ff',
  color2 = '#ffff66',
  color3 = '#ff4c4c'
};

conky.text = [[
${font Roboto Mono:bold:size=10}${alignc}${color1}Network Monitor${color}${font}
${hr 1}
Interface: @@IFACE@@ ${alignr}${execpi 300 curl -s "https://ipinfo.io/ip" || echo "IP unavailable"}
Up: ${upspeed @@IFACE@@} ${alignr}Down: ${downspeed @@IFACE@@}
${upspeedgraph @@IFACE@@ 20,140 FF6600 FF3300} ${alignr}${downspeedgraph @@IFACE@@ 20,140 33ccff 0099cc}
Sent: ${totalup @@IFACE@@} ${alignr}Received: ${totaldown @@IFACE@@}
${hr 1}
${color1}Wi-Fi Info${color}
${if_existing /proc/net/wireless}SSID: ${exec iw dev | awk '/ssid/ {print $2; exit}'} ${alignr}Signal: ${exec awk 'NR==3 {print int(($3 / 70) * 100)}' /proc/net/wireless}%${endif}
Host: $alignr$nodename
Uptime: $alignr$uptime
Kernel: $alignr$kernel
${color1}Temperatures${color}
CPU: ${execi 10 sensors | awk '/Package id 0:/ {print $4}' | tr -d '+' || echo "N/A"} ${alignr}GPU: ${execi 30 nvidia-smi --query-gpu=temperature.gpu --format=csv,noheader,nounits 2>/dev/null | head -1 | sed 's/$/Â°C/' || echo "N/A"}
${cpugraph 20,320 ff6600 ffff00}
${color1}CPU/RAM${color}
CPU: ${cpu}% ${cpubar 6}
RAM: $mem / $memmax ($memperc%) ${membar 6}
Swap: $swap / $swapmax ($swapperc%) ${swapbar 6}
${hr 1}
${color1}Process Info${color}
Processes: $processes ${alignr}Running: $running_processes
${color2}Top CPU:${color}
${top name 1} ${alignr}${top cpu 1}%
${top name 2} ${alignr}${top cpu 2}%
${top name 3} ${alignr}${top cpu 3}%
${color2}Top Memory:${color}
${top_mem name 1} ${alignr}${top_mem mem 1}%
${top_mem name 2} ${alignr}${top_mem mem 2}%
${top_mem name 3} ${alignr}${top_mem mem 3}%
${hr 1}
${if_existing /sys/class/power_supply/BAT0}
${color1}Battery${color}
${battery_short BAT0} - ${battery_time BAT0} ${battery_bar 6 BAT0}
${endif}

${color orange}${voffset 2}${hr 1}
${alignc}${font Dejavu Sans Mono:bold:size=11}${color1}Weather: @@LOCATION@@${font}
${hr 1}
${color2}Weather Details:${color}
${execpi 600 curl -s "wttr.in/@@LOCATION@@?format=%t+%C+%h+%w" --max-time 5 | sed 's/+/ | /g' || echo "Details unavailable"}
${hr 1}

${color1}Brightness: ${color green}${execi 10 backlight_dir="/sys/class/backlight/*"; current=$(cat "$backlight_dir"/brightness 2>/dev/null | head -1); max=$(cat "$backlight_dir"/max_brightness 2>/dev/null | head -1); if [ -n "$current" ] && [ -n "$max" ] && [ "$max" -gt 0 ]; then echo $((current * 100 / max))%; else echo "N/A"; fi}${color}
${color1}Storage${color}
Root: ${fs_used /} / ${fs_size /} ${fs_bar 6 /}
${if_existing /home}Home: ${fs_used /home} / ${fs_size /home} ${fs_bar 6 /home}${endif}
${hr 1}
${color1}Disk I/O${color}
Read: ${diskio_read} ${alignr}Write: ${diskio_write}
${diskiograph_read 20,140 00ff00 ff0000} ${alignr}${diskiograph_write 20,140 ff6600 ff0000}
${hr 1}
${color1}System Info${color}
Date: ${alignr}${time %A, %B %d, %Y}
Time: ${alignr}${time %H:%M:%S}
Load: ${alignr}${loadavg}
]];